/*
 https://github.com/rwoodr/fontcheck
 @author Robert Woodruff
 @version 2.0.0
 @license Apache-2.0
*/
export default class{constructor(){this.baseFonts=['serif','sans-serif','monospace'],this.testString='abcdefghijklmnopqrstuvwxyz& #0123456789',this.fontSize='32px',this.context=document.createElement('canvas').getContext('2d'),this.baseWidths={},this.baseFonts.forEach(a=>{this.context.font=this.fontSize+' '+a,this.baseWidths[a]=this.context.measureText(this.testString).width})}filterFonts(a){return new Promise((b,c)=>{Array.isArray(a)||c('Input must be array'),b(a.filter(d=>this.isUsable(d)))})}isUsable(a){return this.baseFonts.some(b=>{this.context.font=this.fontSize+' '+a+','+b;let c=this.context.measureText(this.testString).width;return this.baseWidths[b]!==c})}}
